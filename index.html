<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linked List</title>
</head>
<body>

   <!-- <input type="text" class="input" placeholder="X">
    <button type="button" onClick="newItem();">X</button> -->

    <input type="text" class="input1" placeholder="name">
    <input type="text" class="input2" placeholder="Index">
    <button type="button" onClick="addInput();">Add</button>
    <div id="output"></div>
    
    <script>
        document.getElementById("output").innerHTML = "Linked List" + "<br>";

        function LinkedList(){
            let count = 0;
            let head = null;

            this.GetCount = function() {
                return count;
            }

            this.DisplayAll = function(){
                if( head === null) {return null;}
                else {
                    var arr = new Array();
                    var current = head;

                    for(let i =0; i < count; i++){
                        arr[i] = current.data;
                        current = current.next;
                    }
                    return arr;

                }

            }

            this.AddFirst = function(data){
                let node = { data: data,next: head};
                head = node;
                //count = count + 1;
                count++;
            }
            
            this.Add = function(data, index){
                if (index === 0) {
                    this.AddFirst(data);
                    console.log("första element");
                }
                else if (index > -1 && index <= count){
                    console.log("Körs den?")
                        var node = {data:data, next:null};
                        let previous;
                        let current = head;
                        let i = 0;

                        while(i++ < index){
                            previous = current;
                            current = current.next;
                        }

                        previous.next = node;
                        node.next = current;
                        
                        count++;
                }
                else {
                    alert("Error");
                 }

            }

        
        }
        function addInput(){
                let newName = document.querySelector('.input1').value;
                let newIndex = document.querySelector('.input2').value;
                if (LinkedList.count === 0){
                    minlista.AddFirst(newName)
                } else {
                    minlista.Add(newName,newIndex)
                }
               }


  /*      function newItem(){
            let nItem = document.querySelector('.input').value;
            minlista.Add(nItem.value)
            console.log(nItem.value)
        }
        console.log(typeof nItem)

*/
    let minlista = new LinkedList();
    //minlista.Add("1", 0);

    document.getElementById("output").innerHTML = minlista.DisplayAll();


    </script>
</body>
</html>